# 模板设计模式

定义抽象类并且声明一些抽象基本方法供子类实现不同逻辑，同时在抽象类中定义具体方法把抽象基本方法封装起来，这就是模板设计模式。

如果听不懂上面的概念，我就用我工作上的例子来举证。

物流系统需要对接许多不同的末派，向末派请求下单的数据格式各不一样，那我们该怎么设计代码呢？

抽象类BaseLastMileService

```java
public abstract class BaseLastMileService {
    
    public abstract void convert();
    
    public abstract void doManifest();
    
    public void doCarrierOrder(){
        convert();
        doManifest();
        sendMsg();
    }
    
    public void sendMsg(){
        System.out.println("发送数据给其他系统");
    }
}
```

具体实现类，物流商Carrier01

```java
public class Carrier01 extends BaseLastMileService {
    @Override
    public void convert() {
        System.out.println("carrer01转换数据");
    }

    @Override
    public void doManifest() {
        System.out.println("http 请求carrer01");
    }
}
```

具体实现类，物流商Carrier02

```java
public class Carrier02 extends BaseLastMileService {
    @Override
    public void convert() {
        System.out.println("carrer02转换数据");
    }

    @Override
    public void doManifest() {
        System.out.println("http 请求carrer02");
    }
}
```

调用：

```java
//查询对应的流商service
BaseLastMileService service = Router.selectService("carrer01");
//调用具体服务
service.doManifest();
```

