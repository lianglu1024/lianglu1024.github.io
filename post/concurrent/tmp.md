SimpleDateFormat是线程不安全的

![image-20210304132123281](https://tva1.sinaimg.cn/large/e6c9d24ely1go7syem6wij20p80b4tc5.jpg)

DateTimeFormatter是线程安全的



![image-20210304132213086](https://tva1.sinaimg.cn/large/e6c9d24ely1go7sz9t6q5j20n407m0vt.jpg)



## 享元模式

### 自定义连接池

![image-20210304191310137](https://tva1.sinaimg.cn/large/008eGmZEly1go834i8ev6j31b405k42u.jpg)



![image-20210304191326831](https://tva1.sinaimg.cn/large/008eGmZEly1go834qiglnj311q0qijwr.jpg)

![image-20210304191342505](https://tva1.sinaimg.cn/large/008eGmZEly1go8350bejmj311a0piaee.jpg)![image-20210304191423393](https://tva1.sinaimg.cn/large/008eGmZEly1go835plh2xj30om0lswhr.jpg)

使用线程池

![image-20210304191441292](https://tva1.sinaimg.cn/large/008eGmZEly1go8360wfblj31ak0scn3m.jpg)

s