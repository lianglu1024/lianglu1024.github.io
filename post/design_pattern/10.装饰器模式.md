# 装饰器模式

学过Python，给人印象最为深刻的就是装饰器，只需在方法名的上面加上@，就可以增强方法功能。所以每次看到Java的注解，都会让我有种在写Python的感觉。

装饰器模式和代理模式都是用作增强方法，所以两者的区别没必要区分的很清楚。

装饰器都是有套路的，如下：

1.抽象组件：

```java
public interface House {
 /**
  * 装饰风格
  */
 void style();
}
```

2.具体组件：

```java
/**
 * 具体组件
 */
public class ChineseStyle implements House {
 @Override
 public void style() {
  System.out.println("中式风格装修");
 }
}
 
/**
 * 具体组件
 */
public class EuropeanStyle implements House {
 @Override
 public void style() {
  System.out.println("欧式风格装修");
 }
}
```

3.抽象装饰类：

```java
/**
 * 抽象装饰类
 *
 */
public class HouseDecorator implements House {
 
 public House house;
 
 public HouseDecorator(House house) {
  this.house = house;
 }
 
 @Override
 public void style() {
  house.style();
 }
}
```

4.具体装饰类：

```java
public class RedDecorator extends HouseDecorator {
 
 public RedDecorator(House house) {
  super(house);
 }
 
 public void style() {
  this.house.style();
  System.out.println("红色装饰墙");
 }
}
```

5.测试：

```java
public class DecoratorPatternTest {

 @Test
 public void testDecoratorPattern(){
  ChineseStyle chineseStyle = new ChineseStyle();
  House redChineseStyle = new RedDecorator(new ChineseStyle());
  House redEuropeanStyle = new RedDecorator(new EuropeanStyle());
 
  System.out.println("中式装修");
  chineseStyle.style();
 
  System.out.println("\n中式加红色墙");
  redChineseStyle.style();
 
  System.out.println("\n欧式加红色墙");
  redEuropeanStyle.style();
 }
}
```

